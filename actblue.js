!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/cf/assets/",o(o.s=737)}({0:function(e,t,o){"use strict";o.r(t),o.d(t,"IFRAME_LOAD_TIMEOUT",function(){return d}),o.d(t,"resetLocalStorageSupported",function(){return b}),o.d(t,"resetEmbedIdCounter",function(){return y}),o.d(t,"initialize",function(){return D});var n=o(9),r=o.n(n),i=o(710);var a=(e,t)=>{if(t)return e;throw new Error(`Unhandled discriminated union member: ${JSON.stringify(e)}`)};function l(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)}return o}function u(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?l(Object(o),!0).forEach(function(t){r()(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):l(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var o=0;o<this.length;o++)e.call(t,this[o],o,this)});const d=6e4,c=window.CustomEvent||function(e){var t,o;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{bubbles:!1,cancelable:!1,detail:null};var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,null!==(t=n.bubbles)&&void 0!==t&&t,null!==(o=n.cancelable)&&void 0!==o&&o,n.detail),r};let s;const f=()=>{if(void 0===s)try{const e="actblue_test";localStorage.setItem(e,e),localStorage.removeItem(e),s=!0}catch(e){s=!1}return s},b=()=>s=void 0;let m;const v=()=>{var e;if(!(m=null!==(e=m)&&void 0!==e?e:Array.from(document.getElementsByTagName("script")).find(e=>{const t=e.getAttribute("src");return!!t&&/\/cf\/assets\/actblue\.js/i.test(t)})))throw new Error("Can not find ActBlue <script> tag");return m},p="https://secure.actblue.com",h=e=>Object.keys(e).reduce((t,o)=>(e[o]&&(t[o]=e[o]),t),{});let g=0;const _=()=>"AB"+(g+=1),y=()=>g=0,w=e=>"boolean"==typeof e?!0===e?{mockRequests:!0}:void 0:e,T=e=>{var t;return h({embedId:e.__abEmbedId,height:null!==(t=e.getAttribute("height"))&&void 0!==t?t:void 0})},A=(e,t)=>{var o;const{amount:n,amounts:r,embedId:i,express:a,height:l,locale:d,otherAmount:c,overlay:s,prefillToken:f,preview:b,recurring:m,refcodes:h,style:g,styleSheetHref:_,verb:y,color:A,barColor:I,goalAmount:k,goalKind:E,stretchGoals:C,width:S,presetRaisedAmount:O,presetRaisedCount:x,goalTitle:L,checkoutId:j,storeHash:H}=u(u(u({},(e=>({locale:e.__configuration.locale,preview:w(e.__configuration.preview),refcodes:e.__configuration.refcodes,styleSheetHref:e.__configuration.styleSheetHref}))(t)),"iframe"===e.nodeName.toLowerCase()?T(e):{}),e.__abConfiguration),M=e.__abDonorData,P=(()=>{try{var e;return null!==(e=v().getAttribute("data-ab-source"))&&void 0!==e?e:void 0}catch(e){return}})(),N=null===(o=document.querySelector("script[data-ab-addons"))||void 0===o||null===(o=o.getAttribute("data-ab-addons"))||void 0===o?void 0:o.split(","),R={amount:n,amounts:r,donorData:M&&Object.keys(M).length?M:void 0,embedId:i,express:a,height:l,locale:d,otherAmount:c,overlay:s,prefillToken:f,preview:b,recurring:m,refcodes:Object.keys(h).length?h:void 0,source:{tag:P,href:window.location.href,addons:N},style:g,styleSheetHref:_,verb:y,color:A,barColor:I,goalAmount:k,goalKind:E,stretchGoals:C,width:S,presetRaisedAmount:O,presetRaisedCount:x,goalTitle:L,checkoutId:j,storeHash:H};try{var q;const t="iframe"===e.nodeName.toLowerCase()?e:e.firstElementChild;null===(q=t.contentWindow)||void 0===q||q.postMessage(JSON.stringify(u({action:"configure"},R)),p);const o=e.hasAttribute("data-ab-goal-tracker");l&&"auto"!=l?t.style.setProperty("height",l):o||t.style.setProperty("height","100%"),S&&t.style.setProperty("width",S),"actblue_modal"===e.id&&(e.style.display="flex")}catch(e){console.error(e)}},I=(e,t,o,n,r,a)=>{var l,u,c,s,b;const m=(e=>{try{return f()?localStorage.getItem(e):null}catch(e){return null}})(`actblue_prefill_token_${o}`);e.getAttribute("data-ab-token")!==o&&e.setAttribute("data-ab-token",o);const v=e.__abConfiguration,p=e.__abDonorData;n.prefillToken=null!==(l=null!==(u=n.prefillToken)&&void 0!==u?u:m)&&void 0!==l?l:void 0;const h=n.embedId=null!==(c=null!==(s=n.embedId)&&void 0!==s?s:null==v?void 0:v.embedId)&&void 0!==c?c:_(),g=(e=>{let{embedId:t,modal:o,actBlueInterface:n}=e;return new i.Promise((e,r)=>{n.addEventListener("contribute",o=>{(null==o?void 0:o.embedId)===t&&e(o)}),o&&n.addEventListener("close",()=>{n.__initialized&&r("Modal closed without contribution")})})})({embedId:n.embedId,modal:null!==(b=n.overlay)&&void 0!==b&&b,actBlueInterface:a}).then(t=>(e.__abLastContribution=t,t));if(JSON.stringify(v)===JSON.stringify(n)&&JSON.stringify(p)===JSON.stringify(r))return g;if(e.__abConfiguration=n,e.__abDonorData=r,v&&!e.__abTimeout)return A(e,a),g;const y=E({configuration:{embedId:h,checkoutId:n.checkoutId,height:n.height,overlay:n.overlay,preview:n.preview,width:n.width,storeHash:n.storeHash},embedType:t,publicToken:o});return e.__abOldInnerHtml=e.innerHTML,e.innerHTML="",clearTimeout(e.__abTimeout),e.__abTimeout=window.setTimeout(()=>{x(e,a,"Could not reach ActBlue servers in a timely fashion")},d),e.appendChild(y),g},k=(e,t)=>{const o=(e=>{const t=document.createElement("a");return t.href=e,t.pathname})(e.src).split("/").slice(-1)[0],n=u({embedId:t},T(e));return C({iframe:e,configuration:n,embedType:"form",publicToken:o})},E=e=>{let{configuration:t,embedType:o,publicToken:n}=e;return C({iframe:document.createElement("iframe"),configuration:t,embedType:o,publicToken:n})},C=e=>{var t;let{iframe:o,configuration:{embedId:n,height:r,width:i,overlay:l,preview:u},embedType:d,publicToken:c}=e;const s=`\n    ${"goal_tracker"==d&&i?`width: ${i}`:"width: 100%"};\n    border: none;\n    height: ${r||"100%"};\n    ${"form"===d?"min-height: 350px;":""}\n  `,f=`ActBlue Embedded ${"form"===d?"Donation Form":"button"===d?"Donation Button":"bigcommerce"===d?"BigCommerce Form":"goal_tracker"===d?"Goal Tracker":a(d)}`,b=`${document.hasStorageAccess?"allow-storage-access-by-user-activation ":""}allow-scripts allow-same-origin allow-forms allow-popups`,m=Boolean(!o.sandbox||o.sandbox.contains&&b.split(" ").map(e=>!o.sandbox.contains(e)).filter(Boolean).length);o.style.cssText=s,o.title!==f&&(o.title=f),m&&(o.sandbox=b),!0!==o.allowPaymentRequest&&(o.allowPaymentRequest=!0);const v=null!==(t=window.location.origin)&&void 0!==t?t:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""),h=`${p}/cf/embed/${d}/${c}`,g=`${h}?host_origin=${encodeURIComponent(v)}&embed_id=${encodeURIComponent(n)}${l?"&overlay=true":""}${"goal_tracker"==d&&null!=u&&u.mockRequests?"&preview=true":""}`;return-1===o.src.indexOf(h)&&(o.src=g),o},S=(e,t,o,n)=>{let{amount:r,amounts:i,embedId:a,express:l,height:u,locale:d,otherAmount:c,overlay:s,prefillToken:f,preview:b,publicToken:m,recurring:v,refcodes:p,styleSheetHref:h}=t;return I(e,"form",m,{amount:r,amounts:i,embedId:a,express:l,height:u,locale:d,otherAmount:c,overlay:s,prefillToken:f,preview:b,recurring:v,refcodes:p,styleSheetHref:h},o,n)},O=e=>{e.__abOldInnerHtml&&(e.innerHTML=e.__abOldInnerHtml),clearTimeout(e.__abTimeout),delete e.__abConfiguration,delete e.__abOldInnerHtml,delete e.__abTimeout,delete e.__abLastContribution},x=(e,t,o)=>{var n;const r=e.getAttribute("data-ab-token");e.__abErroredToken=r,t.dispatchEvent(new c("error",{detail:{message:o,target:e,embedId:null===(n=e.__abConfiguration)||void 0===n?void 0:n.embedId,erroredToken:r}})),"actblue_modal"===e.id?M(t):O(e)};let L;const j=e=>(L||((L=document.createElement("div")).id="actblue_modal",L.addEventListener("click",()=>M(e)),L.style.cssText="\n      position: fixed;\n      height: 100%;\n      width: 100%;\n      top: 0px;\n      left: 0px;\n      background-color: rgba(0,0,0,0.8);\n      z-index: 2147483647;\n      display: none;\n      justify-content: center;\n      align-items: center;\n    "),L),H=(e,t,o)=>{var n;let{amount:r,amounts:i,donor:a,embedId:l,express:u,locale:d,onClose:c,onComplete:s,onContribute:f,onError:b,onLanded:m,otherAmount:v,preview:p,recurring:h,refcodes:g,styleSheetHref:y}=t;const w=j(o),T=l||(null===(n=w.__abLastContribution)||void 0===n?void 0:n.embedId)||_(),A=S(w,{amount:r,amounts:i,embedId:T,express:u,locale:d,otherAmount:v,overlay:!0,preview:p,publicToken:e,recurring:h,refcodes:g,styleSheetHref:y},a,o),I={close:c,complete:s,contribute:f,error:b,landed:m};return Object.keys(I).forEach(e=>{const t=I[e];"function"==typeof t&&o.addEventListener(e,e=>{(null==e?void 0:e.embedId)===T&&t(e)})}),document.body.appendChild(w),A},M=e=>{var t;const o=j(e);e.dispatchEvent(new c("close",{detail:u({embedId:null===(t=o.__abConfiguration)||void 0===t?void 0:t.embedId},o.__abLastContribution?{contributed:!0,contribution:o.__abLastContribution}:{contributed:!1})})),O(o),o.style.display="none",o.parentNode&&o.parentNode.removeChild(o)},P=e=>e.replace(/-([a-z])/g,e=>e[1].toUpperCase()),N=e=>{const t=t=>{const o={};for(let e=0;e<t.length;e++){const n=t[e];0===n.name.toLocaleLowerCase().indexOf("data-ab-refcode")&&(o[P(n.name.replace(/^data-ab-/,""))]=n.value)}return u(u({},e.__configuration.refcodes),o)},o=(e,t)=>{if(!e||!e.length)return null==t?void 0:t.preview;try{const o=JSON.parse(e);return!0===o?{mockRequests:!0}:!1===o?{}:o}catch(e){return null==t?void 0:t.preview}};document.querySelectorAll("[data-ab-bigcommerce]").forEach(n=>{var r,i,a,l,u,d,c;const s=null!==(r=n.getAttribute("data-ab-token"))&&void 0!==r?r:e.__configuration.token;if(!s||s===n.__abErroredToken)return;const f=o(n.getAttribute("data-ab-preview"),e.__configuration),b=null!=f&&f.mockRequests?"abc123":window.cartContents.id,m=null!==(i=n.getAttribute("data-ab-storehash"))&&void 0!==i?i:void 0,v=null!==(a=n.getAttribute("data-ab-id"))&&void 0!==a?a:void 0,p=null!==(l=null!==(u=n.getAttribute("data-ab-locale"))&&void 0!==u?u:e.__configuration.locale)&&void 0!==l?l:void 0,h=null!==(d=null!==(c=n.getAttribute("data-ab-stylesheet-href"))&&void 0!==c?c:e.__configuration.styleSheetHref)&&void 0!==d?d:void 0;((e,t,o,n)=>{let{embedId:r,height:i,locale:a,prefillToken:l,preview:u,publicToken:d,refcodes:c,styleSheetHref:s,checkoutId:f,storeHash:b}=t;I(e,"bigcommerce",d,{embedId:r,height:i,locale:a,prefillToken:l,preview:u,refcodes:c,styleSheetHref:s,checkoutId:f,storeHash:b},o,n)})(n,{embedId:v,height:"auto",locale:p,preview:f,publicToken:s,refcodes:t(n.attributes),styleSheetHref:h,checkoutId:b,storeHash:m},{email:null!=f&&f.mockRequests?"abc123@example.org":window.cartContents.email},e)}),document.querySelectorAll("[data-ab-button]").forEach(n=>{var r,i,a,l,d,c,s,f,b,m,v,p,g;const _=null!==(r=n.getAttribute("data-ab-token"))&&void 0!==r?r:e.__configuration.token;if(!_||_===n.__abErroredToken)return;const y=null!==(i=null!==(a=n.getAttribute("data-ab-amount"))&&void 0!==a?a:n.getAttribute("data-ab-amounts"))&&void 0!==i?i:void 0,w=null!==(l=n.getAttribute("data-ab-id"))&&void 0!==l?l:void 0,T=n.getAttribute("data-ab-express")?"true"===n.getAttribute("data-ab-express"):void 0,A=null!==(d=n.getAttribute("data-ab-locale"))&&void 0!==d?d:void 0,k=o(n.getAttribute("data-ab-preview"),e.__configuration),E=n.getAttribute("data-ab-recurring")?"true"===n.getAttribute("data-ab-recurring"):void 0,C=null!==(c=n.getAttribute("data-ab-style"))&&void 0!==c?c:void 0,S=null!==(s=n.getAttribute("data-ab-stylesheet-href"))&&void 0!==s?s:void 0,O=null!==(f=n.getAttribute("data-ab-verb"))&&void 0!==f?f:void 0;((e,t,o,n)=>{let{amounts:r,embedId:i,express:a,locale:l,preview:u,publicToken:d,recurring:c,refcodes:s,style:f,styleSheetHref:b,verb:m}=t;I(e,"button",d,{amounts:r,embedId:i,express:a,locale:l,preview:u,recurring:c,refcodes:s,style:f,styleSheetHref:b,verb:m},o,n)})(n,{amounts:null==y?void 0:y.split(",").map(e=>parseFloat(e)),embedId:w,express:T,locale:A,preview:k,publicToken:_,recurring:E,refcodes:t(n.attributes),style:C,styleSheetHref:S,verb:O},h(u(u({},e.__configuration.donor),{},{email:null!==(b=n.getAttribute("data-ab-donor-email"))&&void 0!==b?b:void 0,firstname:null!==(m=n.getAttribute("data-ab-donor-firstname"))&&void 0!==m?m:void 0,lastname:null!==(v=n.getAttribute("data-ab-donor-lastname"))&&void 0!==v?v:void 0,phone:null!==(p=n.getAttribute("data-ab-donor-phone"))&&void 0!==p?p:void 0,zip:null!==(g=n.getAttribute("data-ab-donor-zip"))&&void 0!==g?g:void 0})),e)}),document.querySelectorAll("[data-ab-form]").forEach(n=>{var r,i,a,l,d,c,s,f,b,m,v,p,g,_;const y=null!==(r=n.getAttribute("data-ab-token"))&&void 0!==r?r:e.__configuration.token;if(!y||y===n.__abErroredToken)return;const w=null!==(i=n.getAttribute("data-ab-amount"))&&void 0!==i?i:void 0,T=null!==(a=n.getAttribute("data-ab-amounts"))&&void 0!==a?a:void 0,A=n.getAttribute("data-ab-other-amount")?"false"!==n.getAttribute("data-ab-other-amount"):void 0,I=o(n.getAttribute("data-ab-preview"),e.__configuration),k=null!==(l=n.getAttribute("data-ab-id"))&&void 0!==l?l:void 0,E=null!==(d=n.getAttribute("data-ab-height"))&&void 0!==d?d:void 0,C=null!==(c=null!==(s=n.getAttribute("data-ab-locale"))&&void 0!==s?s:e.__configuration.locale)&&void 0!==c?c:void 0,O=null!==(f=null!==(b=n.getAttribute("data-ab-stylesheet-href"))&&void 0!==b?b:e.__configuration.styleSheetHref)&&void 0!==f?f:void 0;S(n,{amount:w?parseFloat(w):void 0,amounts:null==T?void 0:T.split(",").map(e=>parseFloat(e)),embedId:k,height:E,locale:C,otherAmount:A,preview:I,publicToken:y,refcodes:t(n.attributes),styleSheetHref:O},h(u(u({},e.__configuration.donor),{},{email:null!==(m=n.getAttribute("data-ab-donor-email"))&&void 0!==m?m:void 0,firstname:null!==(v=n.getAttribute("data-ab-donor-firstname"))&&void 0!==v?v:void 0,lastname:null!==(p=n.getAttribute("data-ab-donor-lastname"))&&void 0!==p?p:void 0,phone:null!==(g=n.getAttribute("data-ab-donor-phone"))&&void 0!==g?g:void 0,zip:null!==(_=n.getAttribute("data-ab-donor-zip"))&&void 0!==_?_:void 0})),e)}),document.querySelectorAll("[data-ab-goal-tracker]").forEach(n=>{var r;const i=n.getAttribute("data-ab-name"),a=n.getAttribute("data-ab-goal-amount"),l=n.getAttribute("data-ab-goal-kind"),u=n.getAttribute("data-ab-color"),d=n.getAttribute("data-ab-bar-color"),c=n.getAttribute("data-ab-stretch-goals"),s=o(n.getAttribute("data-ab-preview")),f=n.getAttribute("data-ab-height"),b=n.getAttribute("data-ab-width"),m=n.getAttribute("data-ab-preset-raised-amount"),v=n.getAttribute("data-ab-preset-raised-count"),p=n.getAttribute("data-ab-goal-title");if(!i)return void console.error("actblue: fundraising tracker div does not have a name",n);const h=null!==(r=n.getAttribute("data-ab-locale"))&&void 0!==r?r:void 0;((e,t,o)=>{let{listName:n,goalKind:r,goalAmount:i,color:a,barColor:l,height:u,stretchGoals:d,preview:c,width:s,presetRaisedAmount:f,presetRaisedCount:b,goalTitle:m,locale:v,refcodes:p}=t;I(e,"goal_tracker",n,{refcodes:p,goalKind:r,goalAmount:i,color:a,barColor:l,height:u,width:s,stretchGoals:d,preview:c,presetRaisedAmount:f,presetRaisedCount:b,goalTitle:m,locale:v},{},o)})(n,{listName:i,goalAmount:a?parseInt(a):void 0,goalKind:"dollars"===l||"people"===l?l:void 0,color:null!=u?u:void 0,barColor:null!=d?d:void 0,stretchGoals:c?c.split(",").map(e=>parseInt(e)):void 0,preview:s,height:null!=f?f:"auto",width:null!=b?b:void 0,presetRaisedAmount:m?parseInt(m):void 0,presetRaisedCount:v?parseInt(v):void 0,goalTitle:null!=p?p:void 0,locale:h,refcodes:t(n.attributes)},e)}),document.querySelectorAll("iframe").forEach(t=>{var o;if(t.src&&-1!==t.src.indexOf(`${p}/cf/embed/form`)&&!t.__abEmbedId&&null===(null===(o=t.parentElement)||void 0===o?void 0:o.getAttribute("data-ab-form"))){const o=t.__abEmbedId=(e=>{var t,o;const n=e.src.match(/embed_id=([\w\d]*)/),r=n?n[1]:null;return null!==(t=null!==(o=e.__abEmbedId)&&void 0!==o?o:r)&&void 0!==t?t:_()})(t);k(t,o),A(t,e)}})},R=e=>(N(e),(e=>{var t;const o=document.body,n=null!==(t=window.MutationObserver)&&void 0!==t?t:window.WebKitMutationObserver;if(n){const t=new n(e);return t.observe(o,{childList:!0,subtree:!0,attributes:!0}),()=>{t.disconnect()}}return window.addEventListener?(o.addEventListener("DOMNodeInserted",e,!1),o.addEventListener("DOMNodeRemoved",e,!1),()=>{o.removeEventListener("DOMNodeInserted",e),o.removeEventListener("DOMNodeRemoved",e)}):()=>{}})(()=>{N(e)})),q=(e,t)=>document.querySelectorAll("[data-ab-button],[data-ab-bigcommerce],[data-ab-form],[data-ab-goal-tracker],#actblue_modal").forEach(o=>{var n;(null===(n=o.__abConfiguration)||void 0===n?void 0:n.embedId)===e&&t(o)}),$=(e,t)=>{var o;if(e.origin===p&&e.data){let n={};try{n=JSON.parse(e.data)}catch(e){n={}}const r=()=>{q(n.embedId,e=>{var t;null===(t=e.firstElementChild)||void 0===t||null===(t=t.contentWindow)||void 0===t||t.postMessage(JSON.stringify({action:"stopLoader"}),p)})};switch(n.action){case"requestContribution":H(n.publicToken,{amount:n.amount,amounts:n.amounts,donor:u(u({},t.__configuration.donor),n.donor),embedId:n.embedId,express:n.express,locale:n.locale||t.__configuration.locale,otherAmount:null===(o=n.otherAmount)||void 0===o||o,preview:n.preview,recurring:n.recurring,refcodes:u(u({},t.__configuration.refcodes),n.refcodes),styleSheetHref:t.__configuration.styleSheetHref,onLanded:r,onClose:r},t).catch(()=>{});break;case"closeModal":M(t);break;case"setHeight":q(n.embedId,e=>{var t;"auto"===(null===(t=e.__abConfiguration)||void 0===t?void 0:t.height)&&e.firstElementChild&&(e.firstElementChild.style.height=`${n.height}px`)});break;case"setPrefillToken":{const{publicToken:e,prefillToken:t}=n;e&&t&&((e,t)=>{try{f()&&localStorage.setItem(e,t)}catch(e){}})(`actblue_prefill_token_${e}`,t);break}case"submitSuccess":t.dispatchEvent(new c("contribute",{detail:n.contribution}));break;case"complete":t.dispatchEvent(new c("complete",{detail:u({embedId:n.embedId,name:n.listName},n.contribution)}));break;case"landed":t.dispatchEvent(new c("landed",{detail:{name:n.listName,embedId:n.embedId}}));break;case"error":document.querySelectorAll("[data-ab-button],[data-ab-form],#actblue_modal").forEach(e=>{const o=n.publicToken;e.getAttribute("data-ab-token")===o&&(clearTimeout(e.__abTimeout),n.allowOrigin||x(e,t,"ActBlue iframe errored"))});break;case"initialized":q(n.embedId,e=>{clearTimeout(e.__abTimeout),A(e,t);const o=e.firstElementChild;n.title&&o&&(o.title=n.title),"actblue_modal"===e.id&&o&&o.focus(),delete e.__abTimeout})}}},D=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(window.actblue&&window.actblue.__initialized)throw new Error("ActBlue script tag already initialized, you only need to include the <script> tag once.");const t=window.location.search.slice(1).split(/[;&]/).map(e=>e.split("=")).reduce((e,t)=>(2===t.length&&(Object.prototype.hasOwnProperty.call(e,t[0])||(e[decodeURIComponent(t[0])]=decodeURIComponent(t[1]))),e),{}),o=/^(ab_refcode|refcode|ref(\b|_))/,n=Object.keys(t).reduce((e,n)=>("string"==typeof n&&n.match(o)&&(e[n.replace(o,"refcode")]=t[n]),e),{}),r={contribute:[],closeModal:[]},i=function(){var e,t,o,r,i,a,l,d,c,s,f;let b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{donor:{},locale:void 0,styleSheetHref:void 0,token:void 0,preview:void 0,refcodes:{}},m=arguments.length>1?arguments[1]:void 0;return u(u(u({},b),m),{},{onClose:null!==(e=null!==(t=m.onClose)&&void 0!==t?t:b.onClose)&&void 0!==e?e:()=>{},onComplete:null!==(o=null!==(r=m.onComplete)&&void 0!==r?r:b.onComplete)&&void 0!==o?o:()=>{},onContribute:null!==(i=null!==(a=m.onContribute)&&void 0!==a?a:b.onContribute)&&void 0!==i?i:()=>{},onError:null!==(l=null!==(d=m.onError)&&void 0!==d?d:b.onError)&&void 0!==l?l:()=>{},onLanded:null!==(c=null!==(s=m.onLanded)&&void 0!==s?s:b.onLanded)&&void 0!==c?c:()=>{},refcodes:u(u(u({},n),b.refcodes),m.refcodes),donor:u(u({},b.donor),m.donor),preview:w(null!==(f=m.preview)&&void 0!==f?f:b.preview)})},a={__initialized:!0,__configuration:i(void 0,e),requestContribution:function(){let{amount:t,amounts:o,donor:n,embedId:r,locale:i,onClose:l,onComplete:d,onContribute:c,onError:s,onLanded:f,preview:b,recurring:m,refcodes:v,styleSheetHref:p,token:h}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const g=null!=h?h:e.token;if(!g)throw new Error("actblue.requestContribution: provide a token or configure one in actblueConfig");return H(g,{amount:t,amounts:o||(t?[t]:void 0),donor:u(u({},a.__configuration.donor),n),embedId:r,locale:i||a.__configuration.locale,onClose:l,onComplete:d,onContribute:c,onError:s,onLanded:f,otherAmount:Boolean(!t||(null==o?void 0:o.length)),preview:w(null!=b?b:a.__configuration.preview),recurring:m,refcodes:u(u({},a.__configuration.refcodes),v),styleSheetHref:p||a.__configuration.styleSheetHref},a)},reloadIndigoListResponse:()=>{document.querySelectorAll("[data-ab-button],[data-ab-form],#actblue_modal").forEach(e=>{var t;const o=e.firstElementChild;null==o||null===(t=o.contentWindow)||void 0===t||t.postMessage(JSON.stringify({action:"reloadIndigoListResponse"}),p)})},addEventListener:(e,t)=>{void 0===r[e]?r[e]=[t]:r[e].push(t)},dispatchEvent:e=>{(r[e.type]||[]).forEach(t=>t.call(null,e.detail)),"contribute"===e.type&&a.__configuration.onContribute&&a.__configuration.onContribute(e.detail),"complete"===e.type&&a.__configuration.onComplete&&a.__configuration.onComplete(e.detail),"landed"===e.type&&a.__configuration.onLanded&&a.__configuration.onLanded(e.detail),"error"===e.type&&a.__configuration.onError&&a.__configuration.onError(e.detail),"close"===e.type&&a.__configuration.onClose&&a.__configuration.onClose(e.detail)},configure:e=>{a.__configuration=i(a.__configuration,e),N(a)},remove:()=>{window.removeEventListener("message",d),document.querySelectorAll("[data-ab-button], [data-ab-form], [data-ab-goal-tracker], [data-ab-bigcommerce]").forEach(O),l(),L=void 0,m=void 0,delete window.actblue,a.__initialized=!1}};let l=()=>{};const d=e=>$(e,a);window.addEventListener("message",d),a.addEventListener("contribute",e=>{document.querySelectorAll("[data-ab-goal-tracker]").forEach(t=>{var o;return null===(o=t.firstElementChild)||void 0===o||null===(o=o.contentWindow)||void 0===o?void 0:o.postMessage(JSON.stringify({action:"contribution",contribution:e}),p)})});const c="loading"!==document.readyState&&!document.documentElement.doScroll;return"complete"===document.readyState||c?window.setTimeout(()=>{a.__initialized&&(l=R(a))}):document.addEventListener("DOMContentLoaded",()=>{a.__initialized&&(l=R(a))}),window.actblue=a,window.abConfigure=a.configure,a};D(window.actBlueConfig||window.actblueConfig)},161:function(e,t){function o(t){return e.exports=o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,o(t)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},214:function(e,t){var o,n,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function l(e){if(o===setTimeout)return setTimeout(e,0);if((o===i||!o)&&setTimeout)return o=setTimeout,setTimeout(e,0);try{return o(e,0)}catch(t){try{return o.call(null,e,0)}catch(t){return o.call(this,e,0)}}}!function(){try{o="function"==typeof setTimeout?setTimeout:i}catch(e){o=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var u,d=[],c=!1,s=-1;function f(){c&&u&&(c=!1,u.length?d=u.concat(d):s=-1,d.length&&b())}function b(){if(!c){var e=l(f);c=!0;for(var t=d.length;t;){for(u=d,d=[];++s<t;)u&&u[s].run();s=-1,t=d.length}u=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function v(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var o=1;o<arguments.length;o++)t[o-1]=arguments[o];d.push(new m(e,t)),1!==d.length||c||l(b)},m.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=v,r.addListener=v,r.once=v,r.off=v,r.removeListener=v,r.removeAllListeners=v,r.emit=v,r.prependListener=v,r.prependOnceListener=v,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},300:function(e,t,o){var n=o(161).default,r=o(322);e.exports=function(e){var t=r(e,"string");return"symbol"==n(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},322:function(e,t,o){var n=o(161).default;e.exports=function(e,t){if("object"!=n(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,t||"default");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},710:function(e,t,o){(function(n,r){var i;!function(n){var a=n.Promise,l=a&&"resolve"in a&&"reject"in a&&"all"in a&&"race"in a&&function(){var e;return new a(function(t){e=t}),"function"==typeof e}();t?(t.Promise=l?a:C,t.Polyfill=C):void 0===(i=function(){return l?a:C}.call(t,o,t,e))||(e.exports=i);var u="pending",d="sealed",c="fulfilled",s="rejected",f=function(){};function b(e){return"[object Array]"===Object.prototype.toString.call(e)}var m,v=void 0!==r?r:setTimeout,p=[];function h(){for(var e=0;e<p.length;e++)p[e][0](p[e][1]);p=[],m=!1}function g(e,t){p.push([e,t]),m||(m=!0,v(h,0))}function _(e){var t=e.owner,o=t.state_,n=t.data_,r=e[o],i=e.then;if("function"==typeof r){o=c;try{n=r(n)}catch(e){A(i,e)}}y(i,n)||(o===c&&w(i,n),o===s&&A(i,n))}function y(e,t){var o;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&("function"==typeof t||"object"==typeof t)){var n=t.then;if("function"==typeof n)return n.call(t,function(n){o||(o=!0,t!==n?w(e,n):T(e,n))},function(t){o||(o=!0,A(e,t))}),!0}}catch(t){return o||A(e,t),!0}return!1}function w(e,t){e!==t&&y(e,t)||T(e,t)}function T(e,t){e.state_===u&&(e.state_=d,e.data_=t,g(k,e))}function A(e,t){e.state_===u&&(e.state_=d,e.data_=t,g(E,e))}function I(e){var t=e.then_;e.then_=void 0;for(var o=0;o<t.length;o++)_(t[o])}function k(e){e.state_=c,I(e)}function E(e){e.state_=s,I(e)}function C(e){if("function"!=typeof e)throw new TypeError("Promise constructor takes a function argument");if(this instanceof C==!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],function(e,t){function o(e){A(t,e)}try{e(function(e){w(t,e)},o)}catch(e){o(e)}}(e,this)}C.prototype={constructor:C,state_:u,then_:null,data_:void 0,then:function(e,t){var o={owner:this,then:new this.constructor(f),fulfilled:e,rejected:t};return this.state_===c||this.state_===s?g(_,o):this.then_.push(o),o.then},catch:function(e){return this.then(null,e)}},C.all=function(e){if(!b(e))throw new TypeError("You must pass an array to Promise.all().");return new this(function(t,o){var n=[],r=0;function i(e){return r++,function(o){n[e]=o,--r||t(n)}}for(var a,l=0;l<e.length;l++)(a=e[l])&&"function"==typeof a.then?a.then(i(l),o):n[l]=a;r||t(n)})},C.race=function(e){if(!b(e))throw new TypeError("You must pass an array to Promise.race().");return new this(function(t,o){for(var n,r=0;r<e.length;r++)(n=e[r])&&"function"==typeof n.then?n.then(t,o):t(n)})},C.resolve=function(e){return e&&"object"==typeof e&&e.constructor===this?e:new this(function(t){t(e)})},C.reject=function(e){return new this(function(t,o){o(e)})}}("undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:this)}).call(this,o(72),o(739).setImmediate)},72:function(e,t){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(e){"object"==typeof window&&(o=window)}e.exports=o},737:function(e,t,o){e.exports=o(0)},739:function(e,t,o){(function(e){var n=void 0!==e&&e||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(r.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new i(r.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},o(740),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,o(72))},740:function(e,t,o){(function(e,t){!function(e,o){"use strict";if(!e.setImmediate){var n,r,i,a,l,u=1,d={},c=!1,s=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick(function(){m(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,o=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=o,t}}()?e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){m(e.data)},n=function(e){i.port2.postMessage(e)}):s&&"onreadystatechange"in s.createElement("script")?(r=s.documentElement,n=function(e){var t=s.createElement("script");t.onreadystatechange=function(){m(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):n=function(e){setTimeout(m,0,e)}:(a="setImmediate$"+Math.random()+"$",l=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&m(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",l,!1):e.attachEvent("onmessage",l),n=function(t){e.postMessage(a+t,"*")}),f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),o=0;o<t.length;o++)t[o]=arguments[o+1];var r={callback:e,args:t};return d[u]=r,n(u),u++},f.clearImmediate=b}function b(e){delete d[e]}function m(e){if(c)setTimeout(m,0,e);else{var t=d[e];if(t){c=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(o,n)}}(t)}finally{b(e),c=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,o(72),o(214))},9:function(e,t,o){var n=o(300);e.exports=function(e,t,o){return(t=n(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e},e.exports.__esModule=!0,e.exports.default=e.exports}});
//# sourceMappingURL=actblue.js.map